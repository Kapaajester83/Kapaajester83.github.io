<!DOCTYPE html>
<html lang="en-US">

<head>
  <link rel="icon" type="image/png" sizes="48x48" href="../../../favicon.ico">
  <link rel="shortcut icon" href="../../../favicon.ico">
  <title>Hack The Box | JavaScript Deobfuscation</title>
  <meta name="author" content="Kappa">
  <meta name="description" content="Splash">
  <meta name="viewport" content="width=device-width">
  <link href='https://fonts.googleapis.com/css?family=Rock+Salt' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Orbitron:500' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Rochester' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="../../labs.css" type="text/css">
</head>

<body>

  <!--
  _  __          _____  _____        
 | |/ /    /\   |  __ \|  __ \ /\    
 | ' /    /  \  | |__) | |__) /  \   
 |  <    / /\ \ |  ___/|  ___/ /\ \  
 | . \  / ____ \| |    | |  / ____ \ 
 |_|\_\/_/    \_\_|    |_| /_/    \_\
 -->

  <div id="page">
    <div id="nav">
      <ul>
        <li><a href="https://kapaajester83.github.io/">Home</a></li>
        <li><a href="https://kapaajester83.github.io/labs/contents.html">Labs</a></li>
        <li><a href="https://duckduckgo.com/" target="_blank">DuckGo</a></li>
        <li><a href="https://github.com/Kapaajester83?tab=repositories" target="_blank">About</a></li>
        <li><a href="mailto:kappajester83@gmail.com" target="_blank">Email</a></li>
      </ul>
    </div>
    <div id="logo">
      <img src="https://kapaajester83.github.io/logo.jpeg" alt="logo">
      <h1>Kappa</h1>

      <div>
        <br>
        <br>
        <br>
        <h2>“Great things are not done by impulse, but by a series of small things brought together.”</h2>
        <br>
        <br>
      </div>
    </div>

    <div id="writeup">
      <h3>
        <a href="../../contents.html">Hack The Box</a>
      </h3>
      <hr>

      <div id="labs-table-top">

        <h4><a href="../javaScriptDeobfuscation.htm">JavaScript Deobfuscation</a></h4>
        <ul>
          <li><a href="introduction.htm">Introduction</a></li>
          <li><a href="sourceCode.htm"><b><em>~ Source Code</em></b></a></li>
          <li><a href="codeObfuscation.htm">Code Obfuscation</a></li>
        </ul>
      </div>
      <hr>

      <div>

        <h3><em>Source Code</em></h3>

        <p>Most websites nowadays utilize JavaScript to perform their functions. While HTML is used to determine the website's main fields and parameters, and CSS is used to determine its design, JavaScript is used to perform any functions necessary to run the website. This happens in the background, and we only see the pretty front-end of the website and interact with it.</p>

        <p>Even though all of this source code is available at the client-side, it is rendered by our browsers, so we do not often pay attention to the HTML source code. However, if we wanted to understand a certain page's client-side functionalities, we usually start by taking a look at the page's source code. This section will show how we can uncover the source code that contains all of this and understand its general usage.</p>

        <h4>HTML</h4>

        <p>
          We will start by starting the exercise below, open Firefox in our PwnBox, and visit the url shown in the question:
        <ul>
          <li><a href="https://academy.hackthebox.com/storage/modules/41/js_deobf_mainsite.jpg">https://academy.hackthebox.com/storage/modules/41/js_deobf_mainsite.jpg</a></li>
        </ul>

        <p>As we can see, the website says Secret Serial Generator, without having any input fields or showing any clear functionality. So, our next step is to peak at its source code. We can do that by pressing [CTRL + U], which should open the source view of the website:
        <ul>
          <li><a href="https://academy.hackthebox.com/storage/modules/41/js_deobf_mainsite_source_1.jpg">https://academy.hackthebox.com/storage/modules/41/js_deobf_mainsite_source_1.jpg</a></li>
        </ul>

        <p>As we can see, we can view the HTML source code of the website.</p>

        <h4>CSS</h4>

        <p>CSS code is either defined internally within the same HTML file between tags, or defined externally in a separate .css file and referenced within the HTML code.

        <p>If a page CSS style is externally defined, the external .css file is referred to with the "link" tag within the HTML head.

        <h4>JavaScript</h4>

        <p>The same concept applies to JavaScript. It can be internally written between "script" elements or written into a separate .js file and referenced within the HTML code.</p>

        <p>We can check out the script by clicking on secret.js, which should take us directly into the script. When we visit it, we see that the code is very complicated and cannot be comprehended:</p>

        <h5>eval(function (p, a, c, k, e, d) { e = function (c) { '...SNIP... |true|function'.split('|'), 0, {}))</h5>

        <p>The reason behind this is code obfuscation. What is it? How is it done? Where is it used?</p>

      </div>
      <hr>

      <div id="labs-table">

        <h4><a href="../javaScriptDeobfuscation.htm">JavaScript Deobfuscation</a></h4>
        <ol>
          <li><a href="introduction.htm">Introduction</a></li>
          <li><a href="sourceCode.htm"><b><em>~ Source Code</em></b></a></li>
          <li><a href="codeObfuscation.htm">Code Obfuscation</a></li>
        </ol>
      </div>
      <hr>

    </div>
  </div>

  <div id="footer">
    <p>
      Webpage made by <a href="mailto:kappajester83@gmail.com">Kappa </a>
    </p>
  </div>

</html>